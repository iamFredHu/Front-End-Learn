<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Scope</title>
    <script type="text/javascript">
        // 作用域：一个变量的作用范围
        // 两种作用域，全局作用域和函数作用域（局部）
        // 全局作用域在页面打开时创建，在页面关闭时销毁
        // 全局作用域中有全局对象window，可以直接使用 代表浏览器的窗口，由浏览器进行创建，可以直接在页面中使用
        // 在全局作用域中，创建的变量都会作为window对象的属性保存

        fun();
        // 使用var关键字声明的变量，会在所有的代码执行前被声明
        // 不使用var关键字，则不会将声明提前
        // 函数表达式，不会被提前创建，函数声明会被提前创建
        function fun() {
            console.log("111");
        }

        // 全局作用域中的变量都是全局变量，在页面的任意部分都可以访问到
        console.log(a); // undefined 而非报错
        var a = 10;
        console.log(a); // 10

        // 函数作用域（局部），每调用一个函数会创建一个新的函数作用域，他们之间互相独立

        var a1 = 10;

        // 全局变量

        function fun1() {
            var a1 = "我是函数里的a1";
            console.log(a1); // 函数里有a1，直接使用，如果没有，在上一级作用域里寻找
            var b = 20;
        }

        // console.log(b); // 报错 在全局作用域中无法访问到函数作用域的变量

        fun1();
        console.log(a1);

        function fun2() {
            console.log(a2);
            var a2 = 100;
        }

        fun2(); // undefined 在函数作用域中，也会声明提前（var在所有代码执行之前被声明） （小的全局作用域）

        function fun3() {
            console.log(a1);
            a1 = 100; // 函数中不使用var声明，都是全局变量
        }

        fun3();
        console.log(a1); // 100

    </script>
</head>
<body>

</body>
</html>